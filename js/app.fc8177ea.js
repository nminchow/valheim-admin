(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/valheim-admin/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4841:function(t,e,n){t.exports=n.p+"img/logo.534c0f38.webp"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"secondary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:n("4841"),transition:"scale-transition",width:"120"}})],1),a("v-spacer"),a("v-btn",{attrs:{href:"https://www.valheimgame.com/",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[t._v("Official Site")]),a("v-icon",[t._v("mdi-open-in-new")])],1)],1),a("v-main",[a("Config")],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{staticClass:"mb-4",attrs:{sm:"8","offset-sm":"2"}},[n("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v(" Valgrind Dashboard ")]),n("p",{staticClass:"subheading font-weight-regular"},[t._v(' Use the panel below to start and stop the server. After the server\'s status changes to "Running", it may take a minute or two to become connect-able. ')])])],1),n("v-col",{staticClass:"mb-5"},[n("v-card",{staticClass:"mx-auto",attrs:{elevation:"2",outlined:"",tile:"","max-width":"500"}},[n("v-card-text",{staticClass:"mb-0 pb-0"},[n("div",[t._v("Status")]),n("p",{staticClass:"display-1 text--primary mb-0"},[t._v(" "+t._s(t.statusText)+" ")])]),n("v-card-subtitle",{staticClass:"mt-0 pt-0"},[t._v(" "+t._s(t.upTime)+" ")]),n("v-card-actions",[n("v-row",{attrs:{justify:"space-between"}},[n("v-col",[n("v-btn",{attrs:{text:"",color:"primary",disabled:!t.canStart},on:{click:t.start}},[t._v(" Start ")]),n("v-dialog",{attrs:{width:"500","overlay-color":"error"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"warning",text:"",disabled:!t.canStop}},"v-btn",r,!1),a),[t._v(" Stop ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(" Have you saved? ")]),n("v-card-text",[t._v(' The server only saves every 20 minutes. Ensure you have saved before terminating the server. To save, open the admin console (f5) and issue the "save" command. ')]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"warning",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),n("v-btn",{attrs:{color:"error",text:""},on:{click:t.stop}},[t._v(" Dew it ")])],1)],1)],1)],1),n("v-col",{staticClass:"d-flex justify-end"},[t.pending?[n("v-progress-circular",{attrs:{indeterminate:""}})]:t._e()],2)],1)],1)],1)],1),n("v-col",{staticClass:"mb-5"},[n("Logs",{attrs:{entries:t.entries}})],1)],1)},i=[],c=(n("d3b7"),n("ddb0"),n("96cf"),n("1da1")),l=n("d823"),u=n("1432"),d=n.n(u),p=n("39dc"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v(" Time ")]),n("th",{staticClass:"text-left"},[t._v(" Log ")])])]),n("tbody",t._l(t.entries,(function(e){return n("tr",{key:e.insertId},[n("td",[t._v(t._s(t.getTime(e.timestamp)))]),n("td",[t._v(t._s(t.getEntry(e)))])])})),0)]},proxy:!0}])})},f=[],m={name:"Logs",props:["entries"],data:function(){return{}},methods:{getTime:function(t){var e=t.seconds,n=t.nanos;return new Date(1e3*e+n/1e6).toISOString()},getEntry:function(t){var e,n,a,r,s,o;return(null===(e=t.jsonPayload)||void 0===e||null===(n=e.fields)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.stringValue)||(null===(r=t.jsonPayload)||void 0===r||null===(s=r.fields)||void 0===s||null===(o=s.MESSAGE)||void 0===o?void 0:o.stringValue)}}},g=m,b=n("2877"),h=n("6544"),w=n.n(h),y=n("1f4f"),_=Object(b["a"])(g,v,f,!1,null,null,null),x=_.exports;w()(_,{VSimpleTable:y["a"]});var S={name:"Config",data:function(){return{status:"...",pending:!1,canStart:!1,canStop:!1,upTime:"...",dialog:!1,entries:[]}},components:{Logs:x},mounted:function(){var t=this,e=this,n=function(){var n=Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r,s,o,i,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["a"])("https://us-east4-gw2-notifier-test.cloudfunctions.net/status").json();case 2:if(a=n.sent,r=a.vmStatus,s=r.status,o=r.lastStartTimestamp,i=r.lastStopTimestamp,c=a.entries,t.entries=c,u=Math.max(Date.parse(o),Date.parse(i)),t.canStart=!1,t.canStop=!1,e.status=s,"RUNNING"!==s||e.pending){n.next=17;break}return e.pending||(e.canStop=!0),e.upTime="Started ".concat(d()(u),"."),n.abrupt("return");case 17:if("TERMINATED"!==s||e.pending){n.next=21;break}return e.pending||(e.canStart=!0),e.upTime="Stopped ".concat(d()(u),"."),n.abrupt("return");case 21:e.upTime="...";case 22:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n(),window.setInterval(n,1e4)},computed:{statusText:function(){return Object(p["a"])(this.status)}},methods:{start:function(){Object(l["a"])("https://us-east4-gw2-notifier-test.cloudfunctions.net/start"),this.setPending(20)},stop:function(){this.dialog=!1,Object(l["a"])("https://us-east4-gw2-notifier-test.cloudfunctions.net/stop"),this.setPending(20)},setPending:function(t){var e=this;this.canStart=!1,this.canStop=!1,this.pending=!0,window.setTimeout((function(){e.pending=!1}),1e3*t)}}},C=S,V=n("8336"),T=n("b0af"),j=n("99d9"),O=n("62ad"),k=n("a523"),P=n("169a"),E=n("490a"),M=n("0fd9"),A=n("2fa4"),D=Object(b["a"])(C,o,i,!1,null,null,null),I=D.exports;w()(D,{VBtn:V["a"],VCard:T["a"],VCardActions:j["a"],VCardSubtitle:j["b"],VCardText:j["c"],VCardTitle:j["d"],VCol:O["a"],VContainer:k["a"],VDialog:P["a"],VProgressCircular:E["a"],VRow:M["a"],VSpacer:A["a"]});var R={name:"App",components:{Config:I},data:function(){return{}}},L=R,N=n("7496"),$=n("40dc"),B=n("132d"),G=n("adda"),J=n("f6c4"),U=Object(b["a"])(L,r,s,!1,null,null,null),H=U.exports;w()(U,{VApp:N["a"],VAppBar:$["a"],VBtn:V["a"],VIcon:B["a"],VImg:G["a"],VMain:J["a"],VSpacer:A["a"]});var q=n("2f62");a["a"].use(q["a"]);var z=new q["a"].Store({state:{},mutations:{},actions:{},modules:{}}),F=n("f309");a["a"].use(F["a"]);var K=new F["a"]({theme:{dark:!0}});a["a"].config.productionTip=!1,new a["a"]({store:z,vuetify:K,render:function(t){return t(H)}}).$mount("#app")}});
//# sourceMappingURL=app.fc8177ea.js.map